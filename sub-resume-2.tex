\expandafter\ifx\csname readornot\endcsname\relax
  \documentclass[uplatex]{jsarticle}    
  \usepackage{octopus}
  \usepackage{url}
  \input{newcommand}
  \usetikzlibrary{calc}
  \begin{document}
\fi
\renewcommand{\thesubsection}{\thepart.\arabic{section}.\arabic{subsection}}
  
\section{位相空間}

\midashi{\large 位相空間}

$X$を非空な集合とする。$X$に「\nw{位相（topology）}」を入れて「空間」にする。
「位相」を入れるとは，$X$の開集合族を指定することである。

\begin{teigi}[位相]
  以下を満たす開集合系$\mathcal{O} \subseteq 2^{X}$を\nw{位相}という。

  \midashi{O1. } $X \in \mathcal{O}$，$\emptyset \in \mathcal{O}$

  \midashi{O2. } $O_{1}, O_{2}, \cdots, O_{k} \in \mathcal{O} \Longrightarrow O_{1} \cap O_{2} \cap \cdots \cap O_{k} \in \mathcal{O}$

  \midashi{O3. } 任意の集合$\Lambda$に対して$O_{\lambda} \in \mathcal{O}$（$\forall \lambda \in \Lambda$） ${\displaystyle \Longrightarrow \bigcup_{\lambda \in \Lambda} O_{\lambda} \in \mathcal{O}}$

  $\mathcal{O}$の元を\nw{開集合}という。また，開集合族$\mathcal{O}$が指定された集合$X$を\nw{位相空間}という。
  これを$(X,\mathcal{O})$で表すこともある。
\end{teigi}

\begin{rei}
  \begin{itemize}
    \item \nw{離散位相} $\mathcal{O} = 2^{X}$
    \item \nw{密着位相} $\mathcal{O} = \sets{\emptyset, X}$
    \item 距離空間$(X,d)$；$\mathcal{O} := \sets{O \subseteq X | \forall x \in O, \quad \exists \varepsilon > 0, \quad N(x, \varepsilon) \subseteq O}$
    （これは距離空間のところで定義した開集合の集まり）
  \end{itemize}
\end{rei}

距離空間のときに定義したいくつかの用語を位相空間の言葉で記述し直す。

\begin{itemize}
  \vspace{-0.5\baselineskip}
  \item $A \subseteq X$の内部$A^{\circ}$
  \begin{equation}
    A^{\circ} := \bigcup \sets{O \in \mathcal{O} | O \subseteq A} \in \mathcal{O}
  \end{equation}
  これは$A$に含まれる最大の開集合のこと。$A$の内点$x$とは$A^{\circ}$の元のこと。
  \item 閉集合とは，ある開集合の補集合になっているものとする。
  すると，閉集合族$\mathfrak{A}$は以下を満たす。：

  \midashi{A1. } $X \in \mathfrak{A}$，$\emptyset \in \mathfrak{A}$

  \midashi{A2. } $F_{1}, F_{2}, \dots, F_{k} \in \mathfrak{A} \Longrightarrow F_{1} \cup F_{2} \cup \dots \cup F_{k} \in \mathfrak{A}$

  \midashi{A3. } 任意の集合$\Lambda$に対して$F_{\lambda} \in \mathfrak{A} $（$\lambda \in \Lambda$）$\Longrightarrow {\displaystyle \bigcap_{\lambda} F_{\lambda} \in \mathfrak{A}}$

  \item $A$の閉包$\overline{A}$
  \begin{equation}
    \overline{A} := \bigcap \sets{F \in \mathfrak{A} | A \subseteq F} \in \mathfrak{A}
  \end{equation}
  これは$A$を含む最小の閉集合のこと。$A$の触点$x$とは$\overline{A}$の元のこと。
  \item $N$が$x \in X$の近傍であるとは，$x \in N^{\circ}$となること，すなわち，
  \begin{equation}
    \exists O \in \mathcal{O}, \quad x \in O \subseteq N
  \end{equation}
  となること。特に$N$が開集合であるとき，$N$を$x$の開近傍という。
  \item $\mathcal{N}(x)$：$x$の近傍全体
\end{itemize}

位相の与え方にはいろいろある。
\begin{enumerate}
  \item {\bf (A1)}，{\bf (A2)}，{\bf (A3)}を満たす集合族$\mathfrak{A}$（閉集合族）を指定する。
  \item 各$A \subseteq X$に$A^{\circ}$を対応させる写像$2^{X} \longrightarrow 2^{X}$を指定する。（\nw{開核作用子}）
  \item 各$A \subseteq X$に$\overline{A}$を対応させる写像$2^{X} \longrightarrow 2^{X}$を指定する。（\nw{閉包作用子}）
  \item 各点$x$に$\mathcal{N}(x)$を対応させる写像$X \longrightarrow 2^{2^{X}}$を指定する。
\end{enumerate}

ただし，指定する写像はどんなものでもいいわけではない。
それぞれある条件を満たすような写像に限られる。
例えば，閉包作用子$\tau \colon 2^{X} \longrightarrow 2^{X}$は次を満たす必要がある。
\begin{itemize}
  \vspace{-0.5\baselineskip}
  \item $\tau (\emptyset) = \emptyset$
  \item $A \subseteq \tau(A)$
  \item $\tau (A \cup B) = \tau (A) \cup \tau (B)$
  \item $\tau (\tau (A)) = \tau (A)$
  \vspace{-0.5\baselineskip}
\end{itemize}

これらから自然に開集合族が決まる。
例えば，閉包作用子に対しては，$A = \tau (A)$となるような$A$を閉集合と定める。
詳細は演習。

\sukima \midashi{\large 連続写像}

\renewcommand{\arraystretch}{1}
\begin{tabular}{ll@{\,}l@{\,}l}
  位相空間 & $X$， & $\mathcal{O}_{X}$：開集合族， & $\mathfrak{A}_{X}$：閉集合族 \\
          & $Y$， & $\mathcal{O}_{Y}$：開集合族， & $\mathfrak{A}_{Y}$：閉集合族
\end{tabular}
\renewcommand{\arraystretch}{1.3}

\begin{teigi}[連続性]
  写像$f \colon X \longrightarrow Y$が$x \in X$で\nw{連続} $\defines$ 
  「$\forall N$：$f(x)$の近傍 $\Longrightarrow$ $f^{-1}(N)$は$x$の近傍」
\end{teigi}

\midashi{距離空間の連続性との同値性}
\begin{align*}
  x \in X \text{で連続} & \Longleftrightarrow \forall \varepsilon > 0, \quad \exists \delta > 0, \quad d_{X} (x,y) < \delta \Longrightarrow d_{Y}(f(x), f(y)) < \varepsilon \\
  & \Longleftrightarrow \forall \varepsilon > 0, \quad \exists \delta > 0, \quad N(x,\delta) \subseteq f^{-1} (N(f(x), \varepsilon)) \\
  & \Longleftrightarrow f(x) \text{の任意の近傍の逆像は} x \text{の近傍}
\end{align*}

\begin{teiri}
  \label{isou.renzoku}
  以下の{\bf (1)},{\bf (2)},{\bf (3)}は同値。：
  
  \midashi{(1)} $f$は$X$の各点で連続

  \midashi{(2)} $\forall O \in \mathcal{O}_{Y}, \quad f^{-1}(O) \in \mathcal{O}_{X}$

  \midashi{(3)} $\forall F \in \mathfrak{A}_{Y}, \quad f^{-1}(F) \in \mathfrak{A}_{X}$
\end{teiri}

\begin{proof}
  \midashi{(1) $\Longrightarrow$ (2)：} $O \in \mathcal{O}_{Y}$を任意にとり，$x \in f^{-1}(O)$とする。$O$は$f(x)$の開近傍である。
  連続性の定義からある$x$の開近傍$O_{x}$が存在して，$O_{x} \subseteq f^{-1} (O)$である。
  \begin{equation}
    f^{-1} (O) = \bigcup_{x \in f^{-1}(O)} \sets{x} \subseteq \bigcup_{x \in f^{-1}(O)} O_{x} \subseteq f^{-1}(O)
  \end{equation}
  であるから，${\displaystyle f^{-1}(O) = \bigcup_{x \in f^{-1} (O)} O_{x} \in \mathcal{O}_{X}}$である。

  \midashi{(2) $\Longrightarrow$ (3)：} $F \in \mathfrak{A}_{Y}$を任意にとる。$Y \setminus F \in \mathcal{O}_{Y}$であり，
  したがって，$f^{-1} (Y \setminus F) = X \setminus f^{-1}(F) \in \mathcal{O}_{X}$である。
  よって，$f^{-1} (F) \in \mathfrak{A}_{X}$である。

  \midashi{(3) $\Longrightarrow$ (2)：} $O \in \mathcal{O}_{Y}$を任意にとる。$Y \setminus O \in \mathfrak{A}_{Y}$であり，
  したがって，$f^{-1} (Y \setminus O) = X \setminus f^{-1} (O) \in \mathfrak{A}_{X}$である。
  よって，$f^{-1} (O) \in \mathcal{O}_{X}$である。

  \midashi{(2) $\Longrightarrow$ (1)：} $x \in X$を任意にとる。$N$を$f(x)$の近傍として，その内部を$O := N^{\circ}$とすれば$f(x) \in O$である。
  {\bf (2)}より$f^{-1}(O) \in \mathcal{O}_{X}$であってこれは$x$の開近傍である。
  $x \in f^{-1} (O) \subseteq f^{-1} (N)$である。
\end{proof}

\begin{teigi}[連続・同相]
  \midashi{(1)} $f \colon X \longrightarrow Y$が\nw{連続} $\defines$ \rref{定理}{isou.renzoku}の条件{\bf (1)}から{\bf (3)}のどれかの条件を満たす
  
  \midashi{(2)} $f \colon X \longrightarrow Y$が\nw{同相（homeomorphic）} $\defines$ $f$：連続全単射 かつ $f^{-1} \colon Y \longrightarrow X$：連続
  
  $X$と$Y$の間に同相写像が存在するとき，$X$と$Y$は\nw{同相}あるいは\nw{位相同型}といい，
  記号$X \simeq Y$で表す。
\end{teigi}

\midashi{演習.} 全単射連続写像であって同相でないものの例を与えよ。

\begin{teigi}[位相の強弱]
  $X$上の2つの位相$\mathcal{O}$，$\mathcal{O}'$を考える。
  $\mathcal{O} \subseteq \mathcal{O}'$のとき，
  「$\mathcal{O}$は$\mathcal{O}'$より\nw{弱い}位相である」，「$\mathcal{O}'$は$\mathcal{O}$より\nw{強い}位相である」という。
\end{teigi}

つまり，$\mathcal{O}$で連続な写像は，$\mathcal{O}'$でも連続な写像になる。
{\footnotesize「使ったことない」「弱い強い混乱するわロクでもない概念」などと。}

\sukima \midashi{\large いろいろな位相}

\newcommand{\dtimes}{\times\mkern-16mu\times}

\begin{teigi}[誘導位相]
  $X$：集合，$(Y,\mathcal{O}_{Y})$：位相空間，$f \colon X \longrightarrow Y$とする。
  \begin{equation}
    \mathcal{O}_{X} := \sets{f^{-1}(O) | O \in \mathcal{O}_{Y}}
  \end{equation}
  を$f$による\nw{誘導位相}という。
\end{teigi}

$f^{-1} (O \cup O') = f^{-1} (O) \cup f^{-1} (O')$，
$f^{-1} (O \cap O') = f^{-1} (O) \cap f^{-1} (O')$に注意すると，位相の定義の条件を満たすことは理解できる。

\begin{teigi}[相対位相]
  $(X, \mathcal{O}_{X})$：位相空間，$Z \subseteq X$：部分集合。
  \begin{equation}
    \mathcal{O}_{Z} := \sets{O \cap Z | O \in \mathcal{O}_{X}}
  \end{equation}
  とすると，$(Z, \mathcal{O}_{Z})$は$(X, \mathcal{O}_{X}$の部分（位相）空間をなす。
  この位相を\nw{相対位相}という。
\end{teigi}

相対位相は包含写像$Z \hookrightarrow X$による誘導位相でもある。

\sukima \midashi{直積位相}

$(X, \mathcal{O}_{X})$，$(Y, \mathcal{O}_{Y})$：位相空間として，
直積$X \times Y = \sets{(x,y) | x \in X, y \in Y}$に位相を与えたい。しかし，
\begin{equation}
  \mathcal{B} := \sets{O \times O' | O \in \mathcal{O}_{X}, O' \in \mathcal{O}_{Y}}
\end{equation}
は開集合の条件を満たさない。そこで$\mathcal{B}$が「生成する」位相$\mathcal{O}_{X} \dtimes \mathcal{O}_{Y}$を
\begin{equation}
  \mathcal{O}_{X} \dtimes \mathcal{O}_{Y} := \sets{ \bigcup_{W \in \mathcal{B}'} W | \mathcal{B}' \subseteq \mathcal{B}}
\end{equation}
で定めると，$(X \times Y, \mathcal{O}_{X} \dtimes \mathcal{O}_{Y})$は位相空間になる。

3つ以上の位相空間に対しても同様にして直積位相を定めることができる。

\begin{rei}[$(\mathbb{R}^{2}, d_{2})$の位相]
  $x$の$d_{2}$の下での$\varepsilon$-近傍に含まれる$d_{\infty}$の下での$\varepsilon'$-近傍をとることができる。
  $\mathbb{R}^{2}$の開集合は$d_{\infty}$の近傍たちの和集合で書くことができる。
  $d_{\infty}$の$\varepsilon'$-近傍はすべて$\mathcal{B}$の元である。
  よって，$\mathbb{R}^{2}$の位相は$\mathbb{R} \times \mathbb{R}$の直積位相に等しい。
\end{rei}

\sukima \midashi{商位相}

2つの位相空間を貼り合わせて新たな位相空間を作りたい。
\begin{center}  
  \begin{tikzpicture}
    \draw (150:0.5) arc [start angle = 30, end angle = 330, radius = 1.5] -- cycle;
    \draw (30:0.5) arc [start angle = 150, end angle = -150, radius = 1.5] -- cycle;
    \draw[<->] (-0.3,-0.5) -- (0.3,-0.5);
    \node at (-1.75,-0.5){$X$} node at (1.75,-0.5){$Y$};
    \draw[->] (3.75,-0.5) -- (4.75,-0.5);
    \draw (8,0.25) arc [start angle = 30, end angle = 330, radius = 1.5];
    \draw (8,0.25) arc [start angle = 150, end angle = -150, radius = 1.5];
    \draw[dashed] (8,0.25) -- (8,-1.25);
    \node at (6.75,-0.5){$X$} node at (9.25,-0.5){$Y$};
  \end{tikzpicture}
\end{center}
% 貼り合わせる図 if needed

\begin{itemize}
  \vspace{-0.5\baselineskip}
  \item まず$X$と$Y$の直和$X \amalg Y$を考える。$X \amalg Y$に位相を入れる。
  $\mathcal{O}_{X \amalg Y} := \sets{O \cup O' | O \in \mathcal{O}_{X}, O' \in \mathcal{O}_{Y}}$
  \item 同一視したい点たちを同値関係$\sim$で同一視して，商集合$(X \amalg Y) / \sim$を作る。
  \item 商集合に商位相を入れる。
  \vspace{-0.5\baselineskip}
\end{itemize}

位相空間$(X,\mathcal{O})$，$\sim$：$X$上の同値関係，
$X / \sim$：商集合，$\varphi \colon X \longrightarrow X / \sim$：自然な射影（自身を代表元とする同値類を返す）
\begin{equation}
  {\mathcal{O} / \sim} := \sets{H \subseteq {X / \sim} | \varphi^{-1}(H) \subseteq \mathcal{O}}
\end{equation}
$({X / \sim}, {\mathcal{O} / \sim})$は位相空間になる。

\sukima \midashi{\large 重要な位相空間の例}

$\mathbb{R}^{n}$：Euclid空間（位相はEuclid距離から）

\begin{itemize}
  \vspace{-0.5\baselineskip}
  \item $S^{n}$：$n$次元球面
  \begin{equation}
    S^{n} := \sets{x \in \mathbb{R}^{n+1} | \sum_{j=1}^{n+1} {x_{j}}^{2} = 1}
  \end{equation}
  位相は$\mathbb{R}^{n+1}$からの相対位相とする。

  \item $D^{n}$：$n$次元ディスク
  \begin{equation}
    D^{n} := \sets{x \in \mathbb{R}^{n} | \sum_{j=1}^{n} {x_{j}}^{2} \le 1}
  \end{equation}

  \begin{center}
    $D^{2} \simeq$
    \begin{tikzpicture}[baseline=12pt] \filldraw[fill=black!30,draw = black] (0,0) rectangle (1,1); \end{tikzpicture}
      , \quad $S^{2} \simeq {D^{2} / \sim} \simeq$
    \begin{tikzpicture}[baseline=12pt]
      \filldraw[fill=black!30] (0,0) rectangle (1,1);
      \draw (0.55,-0.1) -- (0.45, 0) -- (0.55,0.1);
      \draw (0.9,0.45) -- (1, 0.55) -- (1.1,0.45);
      \draw (-0.1,0.6) -- (0, 0.5) -- (0.1,0.6);
      \draw (-0.1,0.5) -- (0, 0.4) -- (0.1,0.5);
      \draw (0.4,1.1) -- (0.5,1) -- (0.4,0.9);
      \draw (0.5,1.1) -- (0.6,1) -- (0.5,0.9);
    \end{tikzpicture}
  \end{center}

  \item $P^{n}$：射影空間
  \begin{equation}
    P^{n} := (\mathbb{R}^{n+1} \setminus \sets{0}) / \sim
  \end{equation}
  このときの同値関係は
  \begin{equation}
    (x_{1},x_{2},\dots,x_{n+1}) \sim (y_{1},y_{2},\dots,y_{n+1}) \defines \exists \alpha \in \mathbb{R}, \quad (x_{1},x_{2},\dots,x_{n+1}) = \alpha (y_{1},y_{2},\dots,y_{n+1})
  \end{equation}
  で定めている。
  位相は$\mathbb{R}^{n+1}$の部分空間$+$商位相で定める。
  ちなみに$S_{+}^{n}$は上半球面として
  \begin{align}
    P^{n} &\simeq S^{n} / (\text{対蹠点を同一視}) \\
    &\simeq S_{+}^{n} / (\text{対蹠点を同一視}) \\
    &\simeq D^{n-1} / (\text{対蹠点を同一視})
  \end{align}
  が成り立つ。
  
  このことを$n=1$のときで図示する。
  \begin{center}
    \begin{tikzpicture}
      \draw[->] (-1.6,0) -- (1.6,0);
      \draw[->] (0,-1.6) -- (0,1.6);
      \draw (0,0) circle [radius=1.25];
      \draw[dashed] (60:1.25) -- (240:1.25);
      \filldraw (60:1.25) circle [radius=0.05] (240:1.25) circle [radius=0.05];
      \node at (2,0){$\simeq$};
      \node at (0,-2) {$P^{2} \simeq S^{2} / (対蹠点を同一視)$};
    \end{tikzpicture}
    \begin{tikzpicture}
      \draw[->] (-1.6,0) -- (1.6,0);
      \draw[->] (0,-1.6) -- (0,1.6);
      \draw (1.25,0) arc [start angle=0, end angle=180, radius=1.25];
      \filldraw (1.25,0) circle [radius=0.05] (-1.25,0) circle [radius=0.05];
      \draw[<-] (-1.25,-0.25) -- (0.25,-1) node[right]{同一視};
      \draw[<-] (1.25,-0.25) -- (1.25,-0.6);
      \node at (2,0){$\simeq$};
      \node at (0,-2) {$S^{2}_{+} / (対蹠点を同一視)$};
    \end{tikzpicture}
    \begin{tikzpicture}
      \draw[white] (0,-1.6) -- (0,1.6); %位置合わせ
      \draw (0,0) circle [radius=1.25];
      \node at (0,-2) {$S^{1}$};
    \end{tikzpicture}
  \end{center}

  \item $T^{n}$：$n$次元トーラス
  \begin{equation}
    T^{n} := \underbrace{S^{1} \times S^{1} \times \dots \times S^{1}}_{n}
  \end{equation}
  位相は直積位相で定める。

  \item M\"obiusの輪

  \begin{tikzpicture}[baseline=12pt]
    \filldraw[fill opacity=.3, draw = black] (0,0) rectangle (2,1);
    \draw (1.9,0.55) -- (2, 0.45) -- (2.1,0.55);
    \draw (-0.1,0.45) -- (0, 0.55) -- (0.1,0.45);
  \end{tikzpicture}

  \item Kleinの壺

  \begin{tikzpicture}[baseline=12pt]
    \filldraw[fill opacity=.3, draw = black] (0,0) rectangle (2,1);
    \draw (1.9,0.55) -- (2, 0.45) -- (2.1,0.55);
    \draw (-0.1,0.55) -- (0, 0.45) -- (0.1,0.55);
    \draw (0.9,1.1) -- (1,1) -- (0.9,0.9);
    \draw (1,1.1) -- (1.1,1) -- (1,0.9);
    \draw (1,0.1) -- (0.9,0) -- (1,-0.1);
    \draw (1.1,0.1) -- (1,0) -- (1.1,-0.1);
  \end{tikzpicture}
  \vspace{-0.5\baselineskip}
\end{itemize}
% 適宜図を挿入

\sukima
\begin{teigi}(Hausdorff空間)
  $X$：位相空間。
  \vspace{-0.5\baselineskip}
  \begin{equation*}
    \begin{array}{lll}
      X \colon \text{\nw{Hausdorff空間}} & \defines & 「\forall x,y \in X, \quad x \neq y \Longrightarrow \exists U \in \mathcal{O}, \quad
      \exists V \in \mathcal{O}, \quad x \in U, \quad y \in V, \quad U \cap V = \emptyset」
    \end{array}
  \end{equation*}
\end{teigi}

\begin{prop}
  距離空間はHausdorff空間である。
\end{prop}

\begin{teigi}[多様体]
  $M$：Hausdorff空間，とする。
  
  $M$：\nw{$n$次元多様体} $\defines$ $\forall p \in M$，$\exists U$：$p$の開近傍，
  $\exists U'$：$\mathbb{R}^{n}$の開集合，
  $\exists \varphi \colon U \longrightarrow U'$，$\varphi$：同相写像
\end{teigi}

\begin{rei}
  $S^{n}$，$P^{n}$，$T^{n}$は多様体。
\end{rei}

\midashi{演習：}$f \colon \mathbb{R}^{n} \longrightarrow \mathbb{R}$に対して
$\sets{x \in \mathbb{R}^{n} | f(x) = 0}$が多様体となるのはどんなときか。

\begin{rei}[単体複体]
  $S_{\lambda}$（$\lambda \in \Lambda$）：単体（これも位相空間の一種）の集合
  \begin{equation}
    X := \coprod_{\lambda \in \Lambda} S_{\lambda} = \bigcup_{\lambda \in \Lambda} S_{\lambda} \times \sets{\lambda}
  \end{equation}
  として，ここに同値関係$\sim$を貼り合わせの同一視の関係として定める。
  商空間$K = X / \sim$で全体の単体複体を表す。
\end{rei}

\expandafter\ifx\csname readornot\endcsname\relax
  \end{document}
\fi
